{% extends "base.html" %}
{% block title %}Home - SpiderBot{% endblock title %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <!-- Scraper Section -->
        <div class="col-md-6">
            <h2>Scrape a Website</h2>
            <form method="post">
                {% csrf_token %}
                <div class="mb-3">
                    <label for="url-input" class="form-label">Website URL</label>
                    <input type="url" class="form-control" id="url-input" name="url" placeholder="https://example.com" required>
                </div>
                <button type="submit" name="scrape_submit" class="btn btn-primary">Scrape</button>
            </form>
            {% if scrape_result %}
            <div class="mt-3">
                <h3>Scrape Result:</h3>
                <pre>{{ scrape_result }}</pre>
            </div>
            {% endif %}
        </div>

        <!-- Chat Section -->
        <div class="col-md-6">
            <h2>Chat with Data</h2>
            <form method="post">
                {% csrf_token %}
                <div class="mb-3">
                    <label for="chat-input" class="form-label">Your Message</label>
                    <input type="text" class="form-control" id="chat-input" name="message" placeholder="Ask something about the data..." required>
                </div>
                <button type="submit" name="chat_submit" class="btn btn-success">Send</button>
            </form>
            {% if previous_chat %}
            <div class="mt-3">
                <p><strong>You:</strong> {{ previous_chat }}</p>
            </div>
            {% endif %}
            {% if chat_response %}
            <div class="mt-3">
                <p><strong>AI:</strong> {{ chat_response }}</p>
            </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock content %}
